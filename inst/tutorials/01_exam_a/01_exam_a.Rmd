---
title: "Exam 1"
tutorial:
  id: "isds_exam1a"
  version: 0.1
  
output:
  learnr::tutorial:
    progressive: false
    allow_skip: true
    css: ["css/nu-theme.css"]
runtime: shiny_prerendered
description: >
  This proficiency exam covers Preface - Chapter 4.
---

```{r setup, include=FALSE}
library(learnr)
library(tidyverse)
library(ISDStutorials)
library(gradethis)
library(skimr)

knitr::opts_chunk$set(echo = FALSE)
gradethis_setup()
options(tutorial.event_recorder = ISDStutorials::isds_recorder)

survey <- read_rds("data/survey.rds") %>%
  select(quarter, gender_ident, school_year, num_party, personality, 
          height_inches, happy, campus_housing,
         followers_insta, followers_tiktok, salary) %>% 
  mutate(
    height_inches = ifelse(height_inches < 42, NA,
                           ifelse(height_inches > 84, NA,
                                  height_inches)),
    salary = ifelse(salary < 500000, salary, NA)
    )
```



```{r isds-header}
# student name
question_blank("Name: ___",
                            answer_fn(function(value){
                              if (length(value) >= 1 ) {
                                return(mark_as(TRUE))
                                }
                              return(mark_as(FALSE) )
                              }),
          style = "notes_question",
          correct = paste0(fontawesome::fa("check") ),
          incorrect = paste0(fontawesome::fa("xmark") ),
          allow_retry = FALSE )

```


## Instructions

You have 50 minutes to complete this exam. The exam covers the material learned from Preface - Chapter 4. You are allowed one page of notes front and back.

Once you are finished:

-   Make sure your **name** is entered. If your name is not entered you cannot receive a grade.
-   Make sure every question/exercise has been submitted/run.
-   Click the 'pdf' button to save the document as a pdf, you must have the exam open in a browser window for this button to work.
-   Submit the completed pdf to Canvas.


## Concept (20 points)

If one of your Concept answers does not submit (you click submit and it does not save your answer) enter the number followed by the answer (ie: 1. a ; 2. ...) in this box.

```{r Concept-help}
question_text("", incorrect = "submitted",
              answer("ManuallyGradedEverythingWrong", 
                     correct = TRUE),
              allow_retry = TRUE,
              rows = 4)
```

```{r Q}
#reading check 2
quiz(
  caption = NULL,
  #Q1
  question_dropdown(
  paste("Q1) The following code is in a code chunk:", htmltools::img(src="images/00_math5.png", height = 75, width = 200), "<br> What is the output?"),
    answer(7),
    answer("TRUE", TRUE),
    answer("FALSE"),
    answer("NA"),
    answer("Error"),
    answer(0),
    allow_retry = TRUE,
    random_answer_order = TRUE,
    style = "exam",
    incorrect = "submitted"
  ),
  question_dropdown(
    "Q2) In a typical dataframe, rows correspond to ___.",
    answer("columns"),
    answer("observations", correct = TRUE),
    answer("values"),
    answer("variables"),
    answer("cells"),
    allow_retry = TRUE,
    random_answer_order = TRUE,
    style = "exam",
    incorrect = "submitted"
  ),
  question_wordbank(
  "Q3) Which of the following shows the... ",
  choices = c("relationship between one numerical variable and one categorical variable?", "distirbution of one categorical variable?"),
  wordbank = c("barplot", "histogram", "stacked barplot", 
               "side-by-side boxplot", "scatterplot"),
  answer(c("side-by-side boxplot", "barplot"), correct = TRUE),
  allow_retry = TRUE,
  style = "exam",
  incorrect = "submitted"
  ),
  question_wordbank(
  paste("Q4) The table provides the first 8 observations from a sample of 200 individuals, who reported their age, race, income, and job satisfaction score on a scale from 0 to 100.", htmltools::img(src="images/01_tableA.png", height = 300, width = 500)),
  choices = c("Which type of graphic would be most useful for visualizing the relationship between `Income` and `Score`?",
              "Which type of graphic would be most useful for visualizing the relationship between `Age` and `Race`?"),
  wordbank = c("histogram", "scatterplot", "linegraph", "side-by-side boxplot", "stacked barplots"),
  answer(c("scatterplot", "stacked barplots"), correct = TRUE),
  allow_retry = TRUE,
  style = "exam",
  incorrect = "submitted"
  ),
  question_dropdown("Which of the following arguments in geom_bar()
  will represent a proportion with all the bars at the top when mapping 2 categorical variables?",
    answer("fill = `dodge`"),
    answer("position = `dodge`"),
    answer("position = `fill`"),
    answer("fill = `top`"),
    answer("fill = `position`"),
    allow_retry = TRUE,
    random_answer_order = TRUE,
    style = "exam",
    incorrect = "submitted"),
  question_dropdown(
    paste("Q5) The histogram below shows the distribution of a large company's annual employee income. Which of the following statements is TRUE concerning this distribution?", htmltools::img(src="images/02_income.png", height = 300, width = 500)),
    answer("The distribution is skewed left and the mean is less than the median."),  
    answer("The distribution is skewed right and the mean is less than the median."),
    answer("The distribution is skewed left and the mean is greater than the median."),
    answer("The distribution is skewed right and the mean is greater than the median.", correct = TRUE),
    answer("The distribution is symmetric and the mean is equal to the median."),
    allow_retry = TRUE,
    random_answer_order = TRUE,
    style = "exam",
    incorrect = "submitted"
  ),
  question_wordbank(
  "Q6) In the histogram from the previous problem. <br> Consider the person with the lowest income got a $5,000 pay cut (decrease). How will the following statistics be impacted?",
    choices = c("average/mean", "IQR (Interquartile Range)"),
    wordbank = c("increase", "decrease", "stay the same"),
    answer(c("decrease", "stay the same"), correct = TRUE),
    allow_retry = TRUE,
    random_answer_order = TRUE,
    style = "exam",
    incorrect = "submitted"
  ),
  question_dropdown(
  "Q7) For the statistic, MEAN, indicate which of the four choices is correct.",
    answer(c("Measure of Centrality/Center"), correct = TRUE),
    answer(c("Measure of Variability/Spread")),
    answer(c("Both a measure of Centrality and Variability")),
    answer(c("Neither a measure of Centrality and Variability")),
    allow_retry = TRUE,
    random_answer_order = TRUE,
    style = "exam",
    incorrect = "submitted"
  ),
  question_dropdown(
  "Q8) For the statistic, MAXIMUM, indicate which of the four choices is correct.",
    answer(c("Measure of Centrality/Center")),
    answer(c("Measure of Variability/Spread")),
    answer(c("Both a measure of Centrality and Variability")),
    answer(c("Neither a measure of Centrality and Variability"), correct = TRUE),
    allow_retry = TRUE,
    random_answer_order = TRUE,
    style = "exam",
    incorrect = "submitted"
  ),
  question_dropdown(
  "Q9) For the statistic, STANDARD DEVIATION, indicate which of the four choices is correct.",
    answer(c("Measure of Centrality/Center")),
    answer(c("Measure of Variability/Spread"), correct = TRUE),
    answer(c("Both a measure of Centrality and Variability")),
    answer(c("Neither a measure of Centrality and Variability")),
    allow_retry = TRUE,
    random_answer_order = TRUE,
    style = "exam",
    incorrect = "submitted"
  ),
  question_wordbank(
  "Q10) Which function/verb will...",
    choices = c("create a new variable", "keep only observations that meet a criteria", "compute the mean of a variable"),
    wordbank = c("slice_max()", "count()", "mutate()", "group_by()", "filter()", "select()", "summarize()", "arrange()"),
    answer(c("mutate()", "filter()", "summarize()"), correct = TRUE),
    allow_retry = TRUE,
    arrange = "ordered",
    style = "exam",
    incorrect = "submitted"
  ),
  question_wordbank(
  "Q11) Which function/verb...",
    choices = c("links data wrangling together", "specifies how variables are mapped to a plot", "adds layers to a plot"),
    wordbank = c("%>%", "aes()", "+", "%<%", "ggplot()", "geom_*()", "dplyr", "//"),
    answer(c("%>%", "aes()", "+"), correct = TRUE),
    allow_retry = TRUE,
    style = "exam",
    incorrect = "submitted"
  ),
  question_dropdown(
  "Q12) Suppose we have a dataset (some data) and we want to get the total number of observations within each level/category of a categorical variable; and then we want to display the results with the level/category with the largest number of observations in it at the top of the output. Which general sequence of functions/verbs would achieve this?",
    answer("some data %>% count() %>% arrange(desc())", correct = TRUE),
    answer("some data %>% count() %>% arrange()"),
    answer("some data %>% mutate() %>% arrange(desc())"),
    answer("some data %>% mutate() %>% arrange()"),
    answer("some data %>% summarize() %>% arrange(desc())"),
    answer("some data %>% summarize() %>% arrange()"),
    allow_retry = TRUE,
    style = "exam",
    incorrect = "submitted"
  )
  
)

```


## Application (15 points)

The following applications use the `survey` dataset which has been preloaded for you. All necessary libraries have been preloaded for you.

This contains the responses to the questions you answered on day 1 of class. For a detailed description of the variables and data click the Section titled "survey Data". You are welcome to use the Help feature of RStudio Cloud if needed.

For each application **only output/print the requested information**. If you are outputting miscellaneous information there will be a deduction.

### Application 1 (5 points)

Construct a scatterplot of `followers_insta` by `height_inches`. Set the `color` equal to `personality`.

```{r App1, exercise=TRUE}

```

In **one sentence** describe the relationship between a student's height and the number of follower on Instagram. In **one sentence** state why you are or are not surprised by this relationship.

```{r App1-desc}
question_text("", incorrect = "submitted",
              answer("ManuallyGradedEverythingWrong", 
                     correct = TRUE),
              allow_retry = TRUE,
              rows = 6)
```


### Application 2 (3 points)

Using the `survey` dataset...

- subset the dataset to only contain the columns: `quarter` and `height_inches`
- create a new variable called `height_feet` which is computed as `height_inches`/12
- make sure you print/output the results

```{r App2, exercise=TRUE}

```

### Application 3 (2 points)

Using the `survey` dataset... 

- compute the `mean` and `sd` of `followers_insta`
- make sure you print/output the results

```{r App3, exercise=TRUE}

```


### Application 4 (5 points)

Construct a histogram of `followers_insta`. Choose an appropriate number of bins and change the border color to "white".

```{r App4, exercise=TRUE}


```


Describe the histogram, including the center, spread, and shape. (Tip: if you could not complete Application 3 there are other places to find the numbers needed.)

```{r App4-describe}
question_text("", incorrect = "submitted",
              answer("ManuallyGradedEverythingWrong", 
                     correct = TRUE),
              allow_retry = TRUE,
              rows = 10)
```

## survey Data

You are welcome to open the dataset in RStudio Cloud as well if the information provided below is not sufficient for you.

Variables:

- `quarter` -- Identifies in which quarter the student took stat 202 (winter 2023, fall 2022, summer 2022, spring 2022, winter 2022, fall 2021)
- `gender_ident` -- "Which gender do you identify as (Male, Female). "Other" was removed to protect against the possibility of having their responses identified by other students.""
- `school_year` -- "What year are you in school? (First year, Sophomore, Junior, Senior, Other)"
- `num_party` -- "On average (approx.) how many parties a month do you attend?"
- `personality` -- "Are you more of an introvert or extrovert? (Introvert, Extrovert)"
- `height_inches` -- "How tall are you? (in inches)"
- `happy` -- "How happy are you? (Very happy, Pretty happy, Not too happy, Don't know)"
- `campus_housing` -- "Where do you live on campus? (North campus, South campus, Neither)"
- `followers_insta` -- "How many followers do you have on Instagram (approx.)?""
- `followers_tiktok` -- "How many followers do you have on TikTok (approx.)?""
- `salary` -- "What do you expect your starting salary to be after graduation, to the nearest thousand dollars? (ex: 47,000)"

```{r}
glimpse(survey)
```

```{r}
skim(survey)
```

## Bonus

```{r bonus}
question_blank(
  "In our daily class slides, we use the same dataset for all of our examples. What is the name of the dataset? ___",
  answer(c(" "), correct = TRUE),
  allow_retry = TRUE,
  style = "exam",
  incorrect = "submitted"
  )
```


## Submit

Once you are finished:

-   **No "check mark" next to your name = 0 grade**
-   Click the 'full reading check' button below. This will download a pdf document of your exam.
-   Make sure all your answers are visible!
-   Submit the downloaded pdf to Canvas.

- **Important**: If at any time you were kicked out of the exam you will need to click/scroll back through each section so that it appears in your printed document.


```{r}
bootstrapPage(
     div(style="display:inline-block",
         print_ui("Print", label = "full reading check") ),
     div(style="display:inline-block", 
         p("then upload to Canvas.") ) 
     )
```